import { BehaviorSubject } from 'rxjs';
export class BaseLoginProvider {
    constructor() {
        this._readyState = new BehaviorSubject(false);
    }
    onReady() {
        return new Promise((resolve, reject) => {
            this._readyState.subscribe((isReady) => {
                if (isReady) {
                    resolve();
                }
            });
        });
    }
    loadScript(id, src, onload, async = true, inner_text_content = '') {
        // get document if platform is only browser
        if (typeof document !== 'undefined' && !document.getElementById(id)) {
            let signInJS = document.createElement('script');
            signInJS.async = async;
            signInJS.src = src;
            signInJS.onload = onload;
            /*
            if (inner_text_content) // LinkedIn
                signInJS.text = inner_text_content;
            */
            document.head.appendChild(signInJS);
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZS1sb2dpbi1wcm92aWRlci5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2FuZ3VsYXJ4LXNvY2lhbC1sb2dpbi8iLCJzb3VyY2VzIjpbImxpYi9lbnRpdGllcy9iYXNlLWxvZ2luLXByb3ZpZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFFdkMsTUFBTSxPQUFnQixpQkFBaUI7SUFJbkM7UUFGVSxnQkFBVyxHQUE2QixJQUFJLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUU3RCxDQUFDO0lBRVAsT0FBTztRQUNiLE9BQU8sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUU7WUFDbkMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxPQUFnQixFQUFFLEVBQUU7Z0JBQzVDLElBQUksT0FBTyxFQUFFO29CQUNULE9BQU8sRUFBRSxDQUFDO2lCQUNiO1lBQ0wsQ0FBQyxDQUFDLENBQUE7UUFDTixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFPRCxVQUFVLENBQUMsRUFBVSxFQUFFLEdBQVcsRUFBRSxNQUFXLEVBQUUsS0FBSyxHQUFHLElBQUksRUFBRSxrQkFBa0IsR0FBRyxFQUFFO1FBQ2xGLDJDQUEyQztRQUMzQyxJQUFJLE9BQU8sUUFBUSxLQUFLLFdBQVcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsRUFBRSxDQUFDLEVBQUU7WUFDakUsSUFBSSxRQUFRLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNoRCxRQUFRLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztZQUN2QixRQUFRLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztZQUNuQixRQUFRLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztZQUN6Qjs7O2NBR0U7WUFDRixRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUN2QztJQUNMLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExvZ2luUHJvdmlkZXIgfSBmcm9tICcuL2xvZ2luLXByb3ZpZGVyJztcclxuaW1wb3J0IHsgU29jaWFsVXNlciB9IGZyb20gJy4vdXNlcic7XHJcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCB9IGZyb20gJ3J4anMnO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VMb2dpblByb3ZpZGVyIGltcGxlbWVudHMgTG9naW5Qcm92aWRlciB7XHJcblxyXG4gICAgcHJvdGVjdGVkIF9yZWFkeVN0YXRlOiBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4gPSBuZXcgQmVoYXZpb3JTdWJqZWN0KGZhbHNlKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvblJlYWR5KCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlYWR5U3RhdGUuc3Vic2NyaWJlKChpc1JlYWR5OiBib29sZWFuKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNSZWFkeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD47XHJcbiAgICBhYnN0cmFjdCBnZXRMb2dpblN0YXR1cygpOiBQcm9taXNlPFNvY2lhbFVzZXI+O1xyXG4gICAgYWJzdHJhY3Qgc2lnbkluKCk6IFByb21pc2U8U29jaWFsVXNlcj47XHJcbiAgICBhYnN0cmFjdCBzaWduT3V0KHJldm9rZT86IGJvb2xlYW4pOiBQcm9taXNlPGFueT47XHJcblxyXG4gICAgbG9hZFNjcmlwdChpZDogc3RyaW5nLCBzcmM6IHN0cmluZywgb25sb2FkOiBhbnksIGFzeW5jID0gdHJ1ZSwgaW5uZXJfdGV4dF9jb250ZW50ID0gJycpOiB2b2lkIHtcclxuICAgICAgICAvLyBnZXQgZG9jdW1lbnQgaWYgcGxhdGZvcm0gaXMgb25seSBicm93c2VyXHJcbiAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSkge1xyXG4gICAgICAgICAgICBsZXQgc2lnbkluSlMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcclxuICAgICAgICAgICAgc2lnbkluSlMuYXN5bmMgPSBhc3luYztcclxuICAgICAgICAgICAgc2lnbkluSlMuc3JjID0gc3JjO1xyXG4gICAgICAgICAgICBzaWduSW5KUy5vbmxvYWQgPSBvbmxvYWQ7XHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgIGlmIChpbm5lcl90ZXh0X2NvbnRlbnQpIC8vIExpbmtlZEluXHJcbiAgICAgICAgICAgICAgICBzaWduSW5KUy50ZXh0ID0gaW5uZXJfdGV4dF9jb250ZW50O1xyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNpZ25JbkpTKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19